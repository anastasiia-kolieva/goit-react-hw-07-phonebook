(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={filter_title:"Filter_filter_title__1GrvV",filter_input:"Filter_filter_input__3qvHN"}},20:function(t,e,n){t.exports={li:"ContactList_li__sTVwo",button:"ContactList_button__aXo2O"}},36:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(10),u=n.n(o),i=n(4),s=(n(36),n(13)),l=n(21),b=n(8),h=n.n(b),f=n(23),j=n.n(f),p=n(6),d=n.n(p),O=n(14),m="http://localhost:4040/contacts";function x(){return(x=Object(O.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(m));case 3:return e=t.sent,n=e.json(),t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function C(){return(C=Object(O.a)(d.a.mark((function t(e){var n,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},t.prev=1,t.next=4,fetch("".concat(m),n);case 4:return c=t.sent,r=c.json(),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function v(){return(v=Object(O.a)(d.a.mark((function t(e){var n,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"DELETE"},t.prev=1,t.next=4,fetch("".concat(m,"/").concat(e),n);case 4:return c=t.sent,r=c.json(),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}var _={fetchContacts:function(){return x.apply(this,arguments)},addContacts:function(t){return C.apply(this,arguments)},deleteContacts:function(t){return v.apply(this,arguments)}},y=n(2),k={handelDeleteContact:"phonebook/handelDeleteContact",changeFilter:"phonebook/changeFilter"},g=Object(y.b)("phonebook/fetchContactsRequest"),w=Object(y.b)("phonebook/fetchContactsSuccess"),F=Object(y.b)("phonebook/fetchContactsError"),E=Object(y.b)("phonebook/contactFormSubmithandlerRequest"),S=Object(y.b)("phonebook/contactFormSubmithandlerSuccess"),N=Object(y.b)("phonebook/contactFormSubmithandlerError"),D=Object(y.b)("phonebook/handelDeleteContactRequest"),T=Object(y.b)("phonebook/handelDeleteContactSuccess"),q=Object(y.b)("phonebook/handelDeleteContactError"),L=Object(y.b)(k.changeFilter);function A(t){var e=t.onCheckUnique,n=Object(r.useState)(""),a=Object(l.a)(n,2),o=a[0],u=a[1],s=Object(r.useState)(""),b=Object(l.a)(s,2),f=b[0],p=b[1],d=Object(i.c)(),O=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":u(c);break;case"number":p(c)}},m=function(){return o&&f?e(o):(alert("Some field is empty!"),!1)},x=function(){u(""),p("")};return Object(c.jsxs)("form",{className:h.a.form,onSubmit:function(t){var e;(t.preventDefault(),m())&&(d((e={id:j.a.generate(),name:o,number:f},function(t){t(E()),_.addContacts(e).then((function(e){return t(S(e))})).catch((function(e){return t(N(e))}))})),x())},autoComplete:"off",children:[Object(c.jsxs)("label",{className:h.a.label,children:["Name"," ",Object(c.jsx)("input",{type:"text",name:"name",placeholder:"Enter name",value:o,onChange:O})]}),Object(c.jsxs)("label",{className:h.a.label,children:["Number"," ",Object(c.jsx)("input",{type:"tel",name:"number",placeholder:"Enter phone number",value:f,onChange:O})]}),Object(c.jsx)("button",{type:"submit",className:h.a.submit_button,children:"Add contact"})]})}var J=n(19),R=n.n(J),U=n(11),V=function(t){return t.contacts.items},B=function(t){return t.contacts.filter},G=Object(U.a)([V,B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}));function H(){var t=Object(i.d)(B),e=Object(i.c)();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:R.a.filter_title,children:"Find contacts by name"}),Object(c.jsx)("input",{type:"text",placeholder:"Enter contact name",className:R.a.filter_input,value:t,onChange:function(t){return e(L(t.target.value))}})]})}var P=n(20),I=n.n(P),M=Object(i.b)((function(t){return{contacts:G(t)}}),(function(t){return{onDeleteContact:function(e){return t(function(t){return function(e){e(D()),_.deleteContacts(t).then((function(){return e(T(t))})).catch((function(t){return e(q(t))}))}}(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(c.jsx)("ul",{children:e.map((function(t){return Object(c.jsxs)("li",{className:I.a.li,children:[t.name,": ",t.number,Object(c.jsx)("button",{className:I.a.button,onClick:function(){return n(t.id)},children:"Delete"})]},t.id)}))})})),X={width:"500px",margin:"0 auto",paddingTop:"30px"},z={textAlign:"center",color:"#6B5EAC"};function K(){var t=Object(i.d)(V),e=Object(i.c)();Object(r.useEffect)((function(){e((function(t){t(g()),_.fetchContacts().then((function(e){return t(w(e))})).catch((function(e){return t(F(e))}))}))}),[]);return Object(c.jsxs)("div",{style:Object(s.a)({},X),children:[Object(c.jsx)("h1",{style:Object(s.a)({},z),children:"Phonebook"}),Object(c.jsx)(A,{onCheckUnique:function(e){var n=!!t.find((function(t){return t.name===e}));return n&&alert("Contact is already exist!"),!n}}),Object(c.jsx)("h2",{style:Object(s.a)({},z),children:"Contacts"}),Object(c.jsx)(H,{}),Object(c.jsx)(M,{})]})}var Q,W=n(5),Y=n(24),Z=n(3),$=Object(y.c)([],(Q={},Object(W.a)(Q,w,(function(t,e){return e.payload})),Object(W.a)(Q,T,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(W.a)(Q,S,(function(t,e){return[].concat(Object(Y.a)(t),[e.payload])})),Q)),tt=Object(y.c)("",Object(W.a)({},k.changeFilter,(function(t,e){return e.payload}))),et=Object(Z.c)({items:$,filter:tt}),nt=Object(y.a)({reducer:{contacts:et}});u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(i.a,{store:nt,children:Object(c.jsx)(K,{})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__23jHE",label:"ContactForm_label__30GCC",submit_button:"ContactForm_submit_button__2T-V1"}}},[[46,1,2]]]);
//# sourceMappingURL=main.9b7d2be3.chunk.js.map